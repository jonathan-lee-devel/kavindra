<header class="relative isolate z-10 shadow-lg bg-light-navbar-color dark:bg-dark-navbar-color">
  <nav class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8" aria-label="Global">
    <div class="flex lg:flex-1">
      <a [routerLink]="rebaseRoutePath(RoutePath.LANDING_PAGE)"
         class="-m-1.5 p-1.5 hover:scale-105 transition-transform duration-200">
        <span class="sr-only">Your Company</span>
        <img class="h-10 w-auto" src="https://tailwindui.com/plus/img/logos/mark.svg?color=indigo&shade=600" alt="">
      </a>
      <a pButton *ngIf="userAuthenticationStore.isLoggedIn()" [routerLink]="rebaseRoutePath(RoutePath.DASHBOARD)"
         class="text-sm font-bold leading-6 text-gray-900 bg-green-300 rounded-md px-5 py-2 mx-3 shadow-md hover:bg-green-400 hover:scale-105 transition-transform duration-300 bg-light-white dark:bg-dark-white">
        Main Dashboard
      </a>
    </div>
    <div class="lg:flex lg:flex-1 lg:justify-end">
      <div class="card flex justify-center ml-4">
        <button (click)="userActionOverlayPanel.toggle($event)" icon="pi pi-ellipsis-v" label="Menu" [iconPos]="'right'" pButton
                class="p-button-rounded p-button-text text-light-primary dark:text-dark-text-primary"></button>
        <p-popover #userActionOverlayPanel>
          <div class="flex flex-col gap-4 w-[5rem]">
            <div class="justify-center items-center text-center">
              <ng-container *ngIf="!userAuthenticationStore.isLoggedIn() && !userAuthenticationStore.isLoading()">
                <div class="flex py-2">
                  <a pButton [routerLink]="rebaseRoutePath(RoutePath.REGISTER)">Register</a>
                </div>
                <div class="flex py-2">
                  <a pButton [routerLink]="rebaseRoutePath(RoutePath.LOGIN)">Login</a>
                </div>
              </ng-container>
              <ng-container *ngIf="userAuthenticationStore.isLoggedIn() && !userAuthenticationStore.isLoading()">
                <div class="flex py-2">
                  <button pButton icon="pi pi-sign-out" label="Log Out" (click)="userAuthenticationStore.logout()"></button>
                </div>
              </ng-container>
              <div class="mt-2 py-2">
                <p-toggleswitch class="mt-2" [(ngModel)]="isDarkMode"
                                (onChange)="userPreferencesStore.toggleDarkMode()"/>
                <i class="pi text-light-secondary dark:text-light-white mb-0.5 px-2"
                   [ngClass]="userPreferencesStore.isDarkMode() ? 'pi-moon' : 'pi-sun'"></i>
                <span class="font-medium text-surface-900 dark:text-surface-0 block mb-2">Dark Mode</span>
                <span
                  class="text-surface-500 dark:text-surface-700">{{ getColorModePrompt() }}</span>
              </div>
            </div>
          </div>
        </p-popover>
      </div>
    </div>
  </nav>
</header>
